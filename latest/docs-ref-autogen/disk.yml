### YamlMime:UniversalReference
items:
- uid: az_disk
  name: az disk
  summary: Manage Azure Managed Disks.
  description: >-
    Azure Virtual Machines use disks as a place to store an operating system, applications, and data. All Azure virtual machines have at least two disks: An operating system disk, and a temporary disk. The operating system disk is created from an image, and both the operating system disk and the image are actually virtual hard disks (VHDs) stored in an Azure storage account. Virtual machines also can have one or more data disks, that are also stored as VHDs.

    Azure Managed and Unmanaged Data Disks have a maximum size of 4095 GB (with the exception of larger disks in preview). Azure Unmanaged Disks also have a maximum capacity of 4095 GB.

    For more information, see:

    - Azure Disks - <a href="https://docs.microsoft.com/azure/virtual-machines/linux/about-disks-and-vhds">https://docs.microsoft.com/azure/virtual-machines/linux/about-disks-and-vhds</a> and <a href="https://docs.microsoft.com/azure/virtual-machines/windows/about-disks-and-vhds">https://docs.microsoft.com/azure/virtual-machines/windows/about-disks-and-vhds</a>.

    - Larger Managed Disks in Public Preview - <a href="https://azure.microsoft.com/blog/introducing-the-public-preview-of-larger-managed-disks-sizes/">https://azure.microsoft.com/blog/introducing-the-public-preview-of-larger-managed-disks-sizes/</a>

    - Ultra SSD Managed Disks in Public Preview - <a href="https://docs.microsoft.com/azure/virtual-machines/windows/disks-ultra-ssd">https://docs.microsoft.com/azure/virtual-machines/windows/disks-ultra-ssd</a>.
  langs:
  - azurecli
  children:
  - az_disk_create
  - az_disk_delete
  - az_disk_grant_access
  - az_disk_list
  - az_disk_revoke_access
  - az_disk_show
  - az_disk_update
  - az_disk_wait
- uid: az_disk_create
  name: az disk create
  summary: Create a managed disk.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Create a managed disk by importing from a blob uri.
    syntax:
      content: az disk create -g MyResourceGroup -n MyDisk --source https://vhd1234.blob.core.windows.net/vhds/osdisk1234.vhd
  - summary: Create an empty managed disk.
    syntax:
      content: az disk create -g MyResourceGroup -n MyDisk --size-gb 10
  - summary: Create a managed disk by copying an existing disk or snapshot.
    syntax:
      content: az disk create -g MyResourceGroup -n MyDisk2 --source MyDisk
  - summary: Create a disk in an availability zone in the region of "East US 2"
    syntax:
      content: az disk create -n MyDisk -g MyResourceGroup --size-gb 10 --location eastus2 --zone 1
  parameters:
  - isRequired: true
    name: --name -n
    summary: The name of the managed disk.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --disk-encryption-set
    summary: Name or ID of disk encryption set that is used to encrypt the disk.
    description: ''
  - name: --disk-iops-read-write
    summary: The number of IOPS allowed for this disk. Only settable for UltraSSD disks. One operation can transfer between 4k and 256k bytes.
    description: ''
  - name: --disk-mbps-read-write
    summary: The bandwidth allowed for this disk. Only settable for UltraSSD disks. MBps means millions of bytes per second with ISO notation of powers of 10.
    description: ''
  - name: --encryption-type
    parameterValueGroup: EncryptionAtRestWithCustomerKey, EncryptionAtRestWithPlatformKey
    summary: 'Encryption type. EncryptionAtRestWithPlatformKey: Disk is encrypted with XStore managed key at rest. It is the default encryption type. EncryptionAtRestWithCustomerKey: Disk is encrypted with Customer managed key at rest.'
    description: ''
  - name: --for-upload
    parameterValueGroup: false, true
    summary: Create the disk for uploading blobs later on through storage commands. Run "az disk grant-access --access-level Write" to retrieve the disk's SAS token.
    description: ''
  - name: --hyper-v-generation
    defaultValue: V1
    parameterValueGroup: V1, V2
    summary: The hypervisor generation of the Virtual Machine. Applicable to OS disks only.
    description: ''
  - name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=&lt;location&gt;`.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --os-type
    parameterValueGroup: Linux, Windows
    summary: The Operating System type of the Disk.
    description: ''
  - name: --size-gb -z
    summary: 'Size in GB. Max size: 4095 GB (certain preview disks can be larger).'
    description: ''
  - name: --sku
    defaultValue: Premium_LRS
    parameterValueGroup: Premium_LRS, StandardSSD_LRS, Standard_LRS, UltraSSD_LRS
    summary: Underlying storage SKU.
    description: ''
  - name: --source
    summary: Source to create the disk/snapshot from, including unmanaged blob uri, managed disk id or name, or snapshot id or name.
    description: ''
  - name: --source-storage-account-id
    summary: Used when source blob is in a different subscription.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --upload-size-bytes
    summary: 'The size (in bytes) of the contents of the upload including the VHD footer. Min value: 20972032. Max value: 35183298347520.'
    description: ''
  - name: --zone
    parameterValueGroup: 1, 2, 3
    summary: Availability zone into which to provision the resource.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_disk_delete
  name: az disk delete
  summary: Delete a managed disk.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Delete a managed disk. (autogenerated)
    syntax:
      content: az disk delete --name MyManagedDisk --resource-group MyResourceGroup
  parameters:
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --yes -y
    summary: Do not prompt for confirmation.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. If provided, no other 'Resource Id' arguments should be specified.
    description: ''
  - name: --name -n
    summary: The name of the managed disk.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_disk_grant_access
  name: az disk grant-access
  summary: Grant a resource access to a managed disk.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Grant a resource read access to a managed disk. (autogenerated)
    syntax:
      content: az disk grant-access --duration-in-seconds 3600 --name MyManagedDisk --resource-group MyResourceGroup
  parameters:
  - isRequired: true
    name: --duration-in-seconds
    summary: Time duration in seconds until the SAS access expires.
    description: ''
  - name: --access-level
    defaultValue: Read
    parameterValueGroup: Read, Write
    summary: Access level.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. If provided, no other 'Resource Id' arguments should be specified.
    description: ''
  - name: --name -n
    summary: The name of the managed disk.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_disk_list
  name: az disk list
  summary: List managed disks.
  description: ''
  langs:
  - azurecli
  parameters:
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_disk_revoke_access
  name: az disk revoke-access
  summary: Revoke a resource's read access to a managed disk.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Revoke a resource's read access to a managed disk. (autogenerated)
    syntax:
      content: az disk revoke-access --ids $id
  - summary: Revoke a resource's read access to a managed disk. (autogenerated)
    syntax:
      content: az disk revoke-access --name MyManagedDisk --resource-group MyResourceGroup
  parameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. If provided, no other 'Resource Id' arguments should be specified.
    description: ''
  - name: --name -n
    summary: The name of the managed disk.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_disk_show
  name: az disk show
  summary: Gets information about a disk.
  description: ''
  langs:
  - azurecli
  parameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. If provided, no other 'Resource Id' arguments should be specified.
    description: ''
  - name: --name -n
    summary: The name of the managed disk.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
- uid: az_disk_update
  name: az disk update
  summary: Update a managed disk.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Update a managed disk. (autogenerated)
    syntax:
      content: az disk update --name MyManagedDisk --resource-group MyResourceGroup --size-gb 20
  parameters:
  - name: --disk-encryption-set
    summary: Name or ID of disk encryption set that is used to encrypt the disk.
    description: ''
  - name: --disk-iops-read-write
    summary: The number of IOPS allowed for this disk. Only settable for UltraSSD disks. One operation can transfer between 4k and 256k bytes.
    description: ''
  - name: --disk-mbps-read-write
    summary: The bandwidth allowed for this disk. Only settable for UltraSSD disks. MBps means millions of bytes per second with ISO notation of powers of 10.
    description: ''
  - name: --encryption-type
    parameterValueGroup: EncryptionAtRestWithCustomerKey, EncryptionAtRestWithPlatformKey
    summary: 'Encryption type. EncryptionAtRestWithPlatformKey: Disk is encrypted with XStore managed key at rest. It is the default encryption type. EncryptionAtRestWithCustomerKey: Disk is encrypted with Customer managed key at rest.'
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --size-gb -z
    summary: 'Size in GB. Max size: 4095 GB (certain preview disks can be larger).'
    description: ''
  - name: --sku
    parameterValueGroup: Premium_LRS, StandardSSD_LRS, Standard_LRS, UltraSSD_LRS
    summary: Underlying storage SKU.
    description: ''
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. If provided, no other 'Resource Id' arguments should be specified.
    description: ''
  - name: --name -n
    summary: The name of the managed disk.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --add
    summary: 'Add an object to a list of objects by specifying a path and key value pairs.  Example: --add property.listProperty <key=value, string or JSON string>.'
    description: ''
  - name: --force-string
    summary: When using 'set' or 'add', preserve string literals instead of attempting to convert to JSON.
    description: ''
  - name: --remove
    summary: 'Remove a property or an element from a list.  Example: --remove property.list <indexToRemove> OR --remove propertyToRemove.'
    description: ''
  - name: --set
    summary: 'Update an object by specifying a property path and value to set.  Example: --set property1.property2=<value>.'
    description: ''
- uid: az_disk_wait
  name: az disk wait
  summary: Place the CLI in a waiting state until a condition of a managed disk is met.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Place the CLI in a waiting state until a condition of a managed disk is met. (autogenerated)
    syntax:
      content: az disk wait --created --name MyManagedDisk --resource-group MyResourceGroup
  parameters:
  - name: --ids
    summary: One or more resource IDs (space-delimited). It should be a complete resource ID containing all information of 'Resource Id' arguments. If provided, no other 'Resource Id' arguments should be specified.
    description: ''
  - name: --name -n
    summary: The name of the managed disk.
    description: ''
  - name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --subscription
    summary: Name or ID of subscription. You can configure the default subscription using `az account set -s NAME_OR_ID`.
    description: ''
  - name: --created
    summary: Wait until created with 'provisioningState' at 'Succeeded'.
    description: ''
  - name: --custom
    summary: Wait until the condition satisfies a custom JMESPath query. E.g. provisioningState!='InProgress', instanceView.statuses[?code=='PowerState/running'].
    description: ''
  - name: --deleted
    summary: Wait until deleted.
    description: ''
  - name: --exists
    summary: Wait until the resource exists.
    description: ''
  - name: --interval
    defaultValue: "30"
    summary: Polling interval in seconds.
    description: ''
  - name: --timeout
    defaultValue: "3600"
    summary: Maximum wait in seconds.
    description: ''
  - name: --updated
    summary: Wait until updated with provisioningState at 'Succeeded'.
    description: ''
commands:
- uid: az_disk_create
  name: az disk create
  summary: Create a managed disk.
- uid: az_disk_delete
  name: az disk delete
  summary: Delete a managed disk.
- uid: az_disk_grant_access
  name: az disk grant-access
  summary: Grant a resource access to a managed disk.
- uid: az_disk_list
  name: az disk list
  summary: List managed disks.
- uid: az_disk_revoke_access
  name: az disk revoke-access
  summary: Revoke a resource's read access to a managed disk.
- uid: az_disk_show
  name: az disk show
  summary: Gets information about a disk.
- uid: az_disk_update
  name: az disk update
  summary: Update a managed disk.
- uid: az_disk_wait
  name: az disk wait
  summary: Place the CLI in a waiting state until a condition of a managed disk is met.
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
description: >-
  Azure Virtual Machines use disks as a place to store an operating system, applications, and data. All Azure virtual machines have at least two disks: An operating system disk, and a temporary disk. The operating system disk is created from an image, and both the operating system disk and the image are actually virtual hard disks (VHDs) stored in an Azure storage account. Virtual machines also can have one or more data disks, that are also stored as VHDs.

  Azure Managed and Unmanaged Data Disks have a maximum size of 4095 GB (with the exception of larger disks in preview). Azure Unmanaged Disks also have a maximum capacity of 4095 GB.

  For more information, see:

  - Azure Disks - <a href="https://docs.microsoft.com/azure/virtual-machines/linux/about-disks-and-vhds">https://docs.microsoft.com/azure/virtual-machines/linux/about-disks-and-vhds</a> and <a href="https://docs.microsoft.com/azure/virtual-machines/windows/about-disks-and-vhds">https://docs.microsoft.com/azure/virtual-machines/windows/about-disks-and-vhds</a>.

  - Larger Managed Disks in Public Preview - <a href="https://azure.microsoft.com/blog/introducing-the-public-preview-of-larger-managed-disks-sizes/">https://azure.microsoft.com/blog/introducing-the-public-preview-of-larger-managed-disks-sizes/</a>

  - Ultra SSD Managed Disks in Public Preview - <a href="https://docs.microsoft.com/azure/virtual-machines/windows/disks-ultra-ssd">https://docs.microsoft.com/azure/virtual-machines/windows/disks-ultra-ssd</a>.
