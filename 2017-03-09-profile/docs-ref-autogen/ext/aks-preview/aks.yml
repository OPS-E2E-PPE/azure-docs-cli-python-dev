### YamlMime:UniversalReference
items:
- uid: ext_aks-preview_az_aks
  name: az aks
  summary: Manage Azure Kubernetes Services.
  description: ''
  langs:
  - azurecli
  children:
  - ext_aks-preview_az_aks_browse
  - ext_aks-preview_az_aks_create
  - ext_aks-preview_az_aks_disable_addons
  - ext_aks-preview_az_aks_enable_addons
  - ext_aks-preview_az_aks_get_credentials
  - ext_aks-preview_az_aks_get_upgrades
  - ext_aks-preview_az_aks_get_versions
  - ext_aks-preview_az_aks_kanalyze
  - ext_aks-preview_az_aks_kollect
  - ext_aks-preview_az_aks_rotate_certs
  - ext_aks-preview_az_aks_scale
  - ext_aks-preview_az_aks_show
  - ext_aks-preview_az_aks_update
  - ext_aks-preview_az_aks_upgrade
  - ext_aks-preview_az_aks_wait
- uid: ext_aks-preview_az_aks_browse
  name: az aks browse
  summary: Show the dashboard for a Kubernetes cluster in a web browser.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Show the dashboard for a Kubernetes cluster in a web browser. (autogenerated)
    syntax:
      content: az aks browse --name MyManagedCluster --resource-group MyResourceGroup
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --disable-browser
    summary: Don't launch a web browser after establishing port-forwarding.
    description: Add this argument when launching a web browser manually, or for automated testing.
  - name: --listen-address
    defaultValue: 127.0.0.1
    summary: The listening address for the dashboard.
    description: Add this argument to listen on a specific IP address.
  - name: --listen-port
    defaultValue: "8001"
    summary: The listening port for the dashboard.
    description: Add this argument when the default listening port is used by another process or unavailable.
- uid: ext_aks-preview_az_aks_create
  name: az aks create
  summary: Create a new managed Kubernetes cluster.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Create a Kubernetes cluster with an existing SSH public key.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --ssh-key-value /path/to/publickey
  - summary: Create a Kubernetes cluster with a specific version.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --kubernetes-version 1.13.9
  - summary: Create a Kubernetes cluster with a larger node pool.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --node-count 7
  - summary: Create a kubernetes cluster with cluster autosclaler enabled.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --kubernetes-version 1.13.9 --node-count 3 --enable-cluster-autoscaler --min-count 1 --max-count 5
  - summary: Create a kubernetes cluster with k8s 1.13.9 but use vmas.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --kubernetes-version 1.13.9 --vm-set-type AvailabilitySet
  - summary: Create a kubernetes cluster with default kubernetes vesrion, default SKU load balancer(standard) and default vm set type(VirtualMachineScaleSets).
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster
  - summary: Create a kubernetes cluster with standard SKU load balancer and two AKS created IPs for the load balancer outbound connection usage.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --load-balancer-managed-outbound-ip-count 2
  - summary: Create a kubernetes cluster with standard SKU load balancer and use the provided public IPs for the load balancer outbound connection usage.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --load-balancer-outbound-ips <ip-resource-id-1,ip-resource-id-2>
  - summary: Create a kubernetes cluster with standard SKU load balancer and use the provided public IP prefixes for the load balancer outbound connection usage.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --load-balancer-outbound-ip-prefixes <ip-prefix-resource-id-1,ip-prefix-resource-id-2>
  - summary: Create a kubernetes cluster with a standard SKU load balancer, with two outbound AKS managed IPs an idle flow timeout of 5 minutes and 8000 allocated ports per machine
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --load-balancer-managed-outbound-ip-count 2 --load-balancer-idle-timeout 5 --load-balancer-outbound-ports 8000
  - summary: Create a kubernetes cluster with basic SKU load balancer and AvailabilitySet vm set type.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --load-balancer-sku basic --vm-set-type AvailabilitySet
  - summary: Create a kubernetes cluster with authorized apiserver IP ranges.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --api-server-authorized-ip-ranges 193.168.1.0/24,194.168.1.0/24,195.168.1.0
  - summary: Create a kubernetes cluster with server side encryption using your owned key.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --node-osdisk-diskencryptionset-id <disk-encryption-set-resource-id>
  - summary: Create a kubernetes cluster with userDefinedRouting, standard load balancer SKU and a custom subnet preconfigured with a route table
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --outbound-type userDefinedRouting --load-balancer-sku standard --vnet-subnet-id customUserSubnetVnetID
  - summary: Create a kubernetes cluster with managed AAD enabled.
    syntax:
      content: az aks create -g MyResourceGroup -n MyManagedCluster --enable-aad --aad-admin-group-object-ids <id-1,id-2> --aad-tenant-id <id>
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --aad-admin-group-object-ids
    summary: Comma seperated list of aad group object IDs that will be set as cluster admin.
    description: ''
  - name: --aad-client-app-id
    summary: The ID of an Azure Active Directory client application of type "Native". This application is for user login via kubectl.
    description: ''
  - name: --aad-server-app-id
    summary: The ID of an Azure Active Directory server application of type "Web app/API". This application represents the managed cluster's apiserver (Server application).
    description: ''
  - name: --aad-server-app-secret
    summary: The secret of an Azure Active Directory server application.
    description: ''
  - name: --aad-tenant-id
    summary: The ID of an Azure Active Directory tenant.
    description: ''
  - name: --admin-username -u
    defaultValue: azureuser
    summary: User account to create on node VMs for SSH access.
    description: ''
  - name: --aks-custom-headers
    summary: Send custom headers. When specified, format should be Key1=Value1,Key2=Value2.
    description: ''
  - name: --api-server-authorized-ip-ranges
    summary: Comma seperated list of authorized apiserver IP ranges. Set to 0.0.0.0/32 to restrict apiserver traffic to node pools.
    description: ''
  - name: --appgw-id
    summary: Resource Id of an existing Application Gateway to use with AGIC. Use with ingress-azure addon.
    description: ''
  - name: --appgw-name
    summary: Name of the application gateway to create/use in the node resource group. Use with ingress-azure addon.
    description: ''
  - name: --appgw-subnet-id
    summary: Resource Id of an existing Subnet used to deploy the Application Gateway. Use with ingress-azure addon.
    description: ''
  - name: --appgw-subnet-prefix
    summary: Subnet Prefix to use for a new subnet created to deploy the Application Gateway. Use with ingress-azure addon.
    description: ''
  - name: --appgw-watch-namespace
    summary: Specify the namespace, which AGIC should watch. This could be a single string value, or a comma-separated list of namespaces.
    description: ''
  - name: --attach-acr
    summary: Grant the 'acrpull' role assignment to the ACR specified by name or resource ID.
    description: ''
  - name: --client-secret
    summary: Secret associated with the service principal. This argument is required if `--service-principal` is specified.
    description: ''
  - name: --cluster-autoscaler-profile
    summary: Space-separated list of key=value pairs for configuring cluster autoscaler. Pass an empty string to clear the profile.
    description: ''
  - name: --disable-rbac
    summary: Disable Kubernetes Role-Based Access Control.
    description: ''
  - name: --dns-name-prefix -p
    summary: Prefix for hostnames that are created. If not specified, generate a hostname using the managed cluster and resource group names.
    description: ''
  - name: --dns-service-ip
    summary: An IP address assigned to the Kubernetes DNS service.
    description: This address must be within the Kubernetes service address range specified by "--service-cidr". For example, 10.0.0.10.
  - name: --docker-bridge-address
    summary: A specific IP address and netmask for the Docker bridge, using standard CIDR notation.
    description: This address must not be in any Subnet IP ranges, or the Kubernetes service address range. For example, 172.17.0.1/16.
  - name: --enable-aad
    summary: Enable managed AAD feature for cluster.
    description: ''
  - name: --enable-addons -a
    summary: Enable the Kubernetes addons in a comma-separated list.
    description: >-
      These addons are available:
          http_application_routing  - configure ingress with automatic public DNS name creation.
          monitoring                - turn on Log Analytics monitoring. Uses the Log Analytics Default Workspace if it exists, else creates one. Specify "--workspace-resource-id" to use an existing workspace.
                                      If monitoring addon is enabled --no-wait argument will have no effect
          virtual-node              - enable AKS Virtual Node (PREVIEW). Requires --subnet-name to provide the name of an existing subnet for the Virtual Node to use.
          azure-policy              - enable Azure policy (PREVIEW).
          ingress-appgw             - enable Applicaiton Gateway Ingress Controller addon (PREVIEW).
  - name: --enable-azure-rbac
    summary: Whether to enable Azure RBAC for Kubernetes authorization.
    description: ''
  - name: --enable-cluster-autoscaler
    summary: Enable cluster autoscaler, default value is false.
    description: If specified, please make sure the kubernetes version is larger than 1.10.6.
  - name: --enable-managed-identity
    summary: (PREVIEW) Using a system assigned managed identity to manage cluster resource group.
    description: ''
  - name: --enable-node-public-ip
    summary: Enable VMSS node public IP.
    description: ''
  - name: --enable-pod-security-policy
    summary: (PREVIEW) Enable pod security policy.
    description: ''
  - name: --enable-private-cluster
    summary: Enable private cluster.
    description: ''
  - name: --enable-rbac -r
    summary: 'Enable Kubernetes Role-Based Access Control. Default: enabled.'
    description: ''
  - name: --enable-vmss
    summary: To be deprecated. Use vm_set_type instead.
    description: ''
  - name: --generate-ssh-keys
    summary: Generate SSH public and private key files if missing.
    description: ''
  - name: --kubernetes-version -k
    summary: Version of Kubernetes to use for creating the cluster, such as "1.7.12" or "1.8.7".
    description: ''
    valueFrom: '`az aks get-versions`'
  - name: --load-balancer-idle-timeout
    summary: Load balancer idle timeout in minutes.
    description: Desired idle timeout for load balancer outbound flows, default is 30 minutes. Please specify a value in the range of [4, 120].
  - name: --load-balancer-managed-outbound-ip-count
    summary: Load balancer managed outbound IP count.
    description: Desired number of managed outbound IPs for load balancer outbound connection. Valid for Standard SKU load balancer cluster only.
  - name: --load-balancer-outbound-ip-prefixes
    summary: Load balancer outbound IP prefix resource IDs.
    description: Comma-separated public IP prefix resource IDs for load balancer outbound connection. Valid for Standard SKU load balancer cluster only.
  - name: --load-balancer-outbound-ips
    summary: Load balancer outbound IP resource IDs.
    description: Comma-separated public IP resource IDs for load balancer outbound connection. Valid for Standard SKU load balancer cluster only.
  - name: --load-balancer-outbound-ports
    summary: Load balancer outbound allocated ports.
    description: Desired static number of outbound ports per VM in the load balancer backend pool. By default, set to 0 which uses the default allocation based on the number of VMs. Please specify a value in the range of [0, 64000] that is a multiple of 8.
  - name: --load-balancer-sku
    summary: Azure Load Balancer SKU selection for your cluster. basic or standard.
    description: Select between Basic or Standard Azure Load Balancer SKU for your AKS cluster.
  - name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=&lt;location&gt;`.'
    description: ''
  - name: --max-count
    summary: Maximum nodes count used for autoscaler, when "--enable-cluster-autoscaler" specified. Please specify the value in the range of [1, 100].
    description: ''
  - name: --max-pods -m
    summary: The maximum number of pods deployable to a node.
    description: If not specified, defaults to 110, or 30 for advanced networking configurations.
  - name: --min-count
    summary: Minimun nodes count used for autoscaler, when "--enable-cluster-autoscaler" specified. Please specify the value in the range of [1, 100].
    description: ''
  - name: --network-plugin
    parameterValueGroup: azure, kubenet
    summary: The Kubernetes network plugin to use.
    description: Specify "azure" for advanced networking configurations. Defaults to "kubenet".
  - name: --network-policy
    summary: (PREVIEW) The Kubernetes network policy to use.
    description: >-
      Using together with "azure" network plugin.

      Specify "azure" for Azure network policy manager and "calico" for calico network policy controller.

      Defaults to "" (network policy disabled).
  - name: --no-ssh-key -x
    summary: Do not use or create a local SSH key.
    description: To access nodes after creating a cluster with this option, use the Azure Portal.
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --node-count -c
    defaultValue: "3"
    summary: Number of nodes in the Kubernetes node pool. It is required when --enable-cluster-autoscaler specified. After creating a cluster, you can change the size of its node pool with `az aks scale`.
    description: ''
  - name: --node-osdisk-diskencryptionset-id
    summary: ResourceId of the disk encryption set to use for enabling encryption at rest.
    description: ''
  - name: --node-osdisk-size
    summary: Size in GB of the OS disk for each node in the node pool. Minimum 30 GB.
    description: ''
  - name: --node-resource-group
    summary: The node resource group is the resource group where all customer's resources will be created in, such as virtual machines.
    description: ''
  - name: --node-vm-size -s
    defaultValue: Standard_DS2_v2
    summary: Size of Virtual Machines to create as Kubernetes nodes.
    description: ''
  - name: --node-zones --zones -z
    parameterValueGroup: 1, 2, 3
    summary: (--node-zones will be deprecated, use --zones) Space-separated list of availability zones where agent nodes will be placed.
    description: ''
  - name: --nodepool-labels
    summary: 'Space-separated labels: key[=value] [key[=value] ...]. You can not change the node labels through CLI after creation. See <a href="https://aka.ms/node-labels">https://aka.ms/node-labels</a> for syntax of labels.'
    description: ''
  - name: --nodepool-name
    defaultValue: nodepool1
    summary: Node pool name, upto 12 alphanumeric characters.
    description: ''
  - name: --nodepool-tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --outbound-type
    parameterValueGroup: loadBalancer, userDefinedRouting
    summary: How outbound traffic will be configured for a cluster.
    description: Select between loadBalancer and userDefinedRouting. If not set, defaults to type loadBalancer. Requires --vnet-subnet-id to be provided with a preconfigured route table and --load-balancer-sku to be Standard.
  - name: --pod-cidr
    summary: A CIDR notation IP range from which to assign pod IPs when kubenet is used.
    description: This range must not overlap with any Subnet IP ranges. For example, 172.244.0.0/16.
  - name: --ppg
    summary: The ID of a PPG.
    description: ''
  - name: --service-cidr
    summary: A CIDR notation IP range from which to assign service cluster IPs.
    description: This range must not overlap with any Subnet IP ranges. For example, 10.0.0.0/16.
  - name: --service-principal
    summary: Service principal used for authentication to Azure APIs.
    description: If not specified, a new service principal is created and cached at $HOME.azureaksServicePrincipal.json to be used by subsequent `az aks` commands.
  - name: --skip-subnet-role-assignment
    summary: Skip role assignment for subnet (advanced networking).
    description: If specified, please make sure your service principal has the access to your subnet.
  - name: --ssh-key-value
    defaultValue: ~\.ssh\id_rsa.pub
    summary: Public key path or key contents to install on node VMs for SSH access. For example, 'ssh-rsa AAAAB...snip...UcyupgH azureuser@linuxvm'.
    description: ''
  - name: --tags
    summary: 'Space-separated tags: key[=value] [key[=value] ...]. Use "" to clear existing tags.'
    description: ''
  - name: --uptime-sla
    summary: Enable a paid managed cluster service with a financially backed SLA.
    description: ''
  - name: --vm-set-type
    summary: Agent pool vm set type. VirtualMachineScaleSets or AvailabilitySet.
    description: ''
  - name: --vnet-subnet-id
    summary: The ID of a subnet in an existing VNet into which to deploy the cluster.
    description: ''
  - name: --windows-admin-password
    summary: User account password to use on windows node VMs.
    description: ''
  - name: --windows-admin-username
    summary: User account to create on windows node VMs.
    description: ''
  - name: --workspace-resource-id
    summary: The resource ID of an existing Log Analytics Workspace to use for storing monitoring data. If not specified, uses the default Log Analytics Workspace if it exists, otherwise creates one.
    description: ''
- uid: ext_aks-preview_az_aks_disable_addons
  name: az aks disable-addons
  summary: Disable Kubernetes addons.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Disable Kubernetes addons. (autogenerated)
    syntax:
      content: az aks disable-addons --addons virtual-node --name MyManagedCluster --resource-group MyResourceGroup
  parameters:
  - isRequired: true
    name: --addons -a
    summary: Disable the Kubernetes addons in a comma-separated list.
    description: ''
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
- uid: ext_aks-preview_az_aks_enable_addons
  name: az aks enable-addons
  summary: Enable Kubernetes addons.
  description: >-
    These addons are available:
        http_application_routing  - configure ingress with automatic public DNS name creation.
        monitoring                - turn on Log Analytics monitoring. Uses the Log Analytics Default Workspace if it exists, else creates one. Specify "--workspace-resource-id" to use an existing workspace.
                                    If monitoring addon is enabled --no-wait argument will have no effect
        virtual-node              - enable AKS Virtual Node (PREVIEW). Requires --subnet-name to provide the name of an existing subnet for the Virtual Node to use.
        azure-policy              - enable Azure policy (PREVIEW).
        ingress-appgw             - enable Application Gateway Ingress Controller addon (PREVIEW).
  langs:
  - azurecli
  examples:
  - summary: Enable Kubernetes addons. (autogenerated)
    syntax:
      content: az aks enable-addons --addons virtual-node --name MyManagedCluster --resource-group MyResourceGroup --subnet-name VirtualNodeSubnet
  - summary: Enable ingress-appgw addon with subnet prefix.
    syntax:
      content: az aks enable-addons --name MyManagedCluster --resource-group MyResourceGroup --addons ingress-appgw --appgw-subnet-prefix 10.2.0.0/16 --appgw-name gateway
  parameters:
  - isRequired: true
    name: --addons -a
    summary: Enable the Kubernetes addons in a comma-separated list.
    description: ''
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --appgw-id
    summary: Resource Id of an existing Application Gateway to use with AGIC. Use with ingress-azure addon.
    description: ''
  - name: --appgw-name
    summary: Name of the application gateway to create/use in the node resource group. Use with ingress-azure addon.
    description: ''
  - name: --appgw-subnet-id
    summary: Resource Id of an existing Subnet used to deploy the Application Gateway. Use with ingress-azure addon.
    description: ''
  - name: --appgw-subnet-prefix
    summary: Subnet Prefix to use for a new subnet created to deploy the Application Gateway. Use with ingress-azure addon.
    description: ''
  - name: --appgw-watch-namespace
    summary: Specify the namespace, which AGIC should watch. This could be a single string value, or a comma-separated list of namespaces. Use with ingress-azure addon.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --subnet-name -s
    summary: The subnet name for the virtual node to use.
    description: ''
  - name: --workspace-resource-id
    summary: The resource ID of an existing Log Analytics Workspace to use for storing monitoring data.
    description: ''
- uid: ext_aks-preview_az_aks_get_credentials
  name: az aks get-credentials
  summary: Get access credentials for a managed Kubernetes cluster.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Get access credentials for a managed Kubernetes cluster. (autogenerated)
    syntax:
      content: az aks get-credentials --name MyManagedCluster --resource-group MyResourceGroup
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --admin -a
    summary: 'Get cluster administrator credentials.  Default: cluster user credentials.'
    description: ''
  - name: --context
    summary: If specified, overwrite the default context name.
    description: ''
  - name: --file -f
    defaultValue: ~/.kube/config
    summary: Kubernetes configuration file to update. Use "-" to print YAML to stdout instead.
    description: ''
  - name: --overwrite-existing
    summary: Overwrite any existing cluster entry with the same name.
    description: ''
  - name: --user -u
    defaultValue: clusterUser
    summary: 'Get credentials for the user. Only valid when --admin is False.  Default: cluster user credentials.'
    description: ''
- uid: ext_aks-preview_az_aks_get_upgrades
  name: az aks get-upgrades
  summary: Get the upgrade versions available for a managed Kubernetes cluster.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Get the upgrade versions available for a managed Kubernetes cluster
    syntax:
      content: az aks get-upgrades --name MyManagedCluster --resource-group MyResourceGroup
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
- uid: ext_aks-preview_az_aks_get_versions
  name: az aks get-versions
  summary: Get the versions available for creating a managed Kubernetes cluster.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Get the versions available for creating a managed Kubernetes cluster
    syntax:
      content: az aks get-versions --location westus2
  parameters:
  - isRequired: true
    name: --location -l
    summary: 'Location. Values from: `az account list-locations`. You can configure the default location using `az configure --defaults location=&lt;location&gt;`.'
    description: ''
- uid: ext_aks-preview_az_aks_kanalyze
  name: az aks kanalyze
  summary: Display diagnostic results for the Kubernetes cluster after kollect is done.
  description: ''
  langs:
  - azurecli
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
- uid: ext_aks-preview_az_aks_kollect
  name: az aks kollect
  summary: Collecting diagnostic information for the Kubernetes cluster.
  description: >-
    Collect diagnostic information for the Kubernetes cluster and store it in the specified storage account.

    You can provide the storage account in three ways:
      storage account name and a shared access signature with write permission.
      resource Id to a storage account you own.
      the storagea account in diagnostics settings for your managed cluster.
  langs:
  - azurecli
  examples:
  - summary: using storage account name and a shared access signature token with write permission
    syntax:
      content: az aks kollect -g MyResourceGroup -n MyManagedCluster --storage-account MyStorageAccount --sas-token "MySasToken"
  - summary: using the resource id of a storagea account resource you own.
    syntax:
      content: az aks kollect -g MyResourceGroup -n MyManagedCluster --storage-account "MyStoreageAccountResourceId"
  - summary: using the storagea account in diagnostics settings for your managed cluster.
    syntax:
      content: az aks kollect -g MyResourceGroup -n MyManagedCluster
  - summary: customize the container logs to collect.
    syntax:
      content: az aks kollect -g MyResourceGroup -n MyManagedCluster --container-logs "mynamespace1/mypod1 myns2"
  - summary: customize the kubernetes objects to collect.
    syntax:
      content: az aks kollect -g MyResourceGroup -n MyManagedCluster --kube-objects "mynamespace1/service myns2/deployment/deployment1"
  - summary: customize the node log files to collect.
    syntax:
      content: az aks kollect -g MyResourceGroup -n MyManagedCluster --node-logs "/var/log/azure-vnet.log /var/log/azure-vnet-ipam.log"
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --container-logs
    summary: The list of container logs to collect.
    description: >-
      The list of container logs to collect. Its value can be either all containers

      in a namespace, for example, kube-system, or a specific container in a

      namespace, for example, kube-system/tunnelfront.
  - name: --kube-objects
    summary: The list of kubernetes objects to describe.
    description: >-
      The list of kubernetes objects to describe. Its value can be either all objects of a type

      in a namespace, for example, kube-system/pod, or a specific object of a type in a namespace,

      for example, kube-system/deployment/tunnelfront.
  - name: --node-logs
    summary: The list of node logs to collect. For example, /var/log/cloud-init.log.
    description: ''
  - name: --sas-token
    summary: The SAS token with writable permission for the storage account.
    description: ''
  - name: --storage-account
    summary: Name or ID of the storage account to save the diagnostic information.
    description: ''
- uid: ext_aks-preview_az_aks_rotate_certs
  name: az aks rotate-certs
  summary: Rotate certificates and keys on a managed Kubernetes cluster.
  description: Kubernetes will be unavailable during cluster certificate rotation.
  langs:
  - azurecli
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --yes -y
    summary: Do not prompt for confirmation.
    description: ''
- uid: ext_aks-preview_az_aks_scale
  name: az aks scale
  summary: Scale the node pool in a managed Kubernetes cluster.
  description: ''
  langs:
  - azurecli
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --node-count -c
    summary: Number of nodes in the Kubernetes node pool.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --nodepool-name
    summary: Node pool name, upto 12 alphanumeric characters.
    description: ''
- uid: ext_aks-preview_az_aks_show
  name: az aks show
  summary: Show the details for a managed Kubernetes cluster.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Show the details for a managed Kubernetes cluster
    syntax:
      content: az aks show --name MyManagedCluster --resource-group MyResourceGroup
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
- uid: ext_aks-preview_az_aks_update
  name: az aks update
  summary: Update a managed Kubernetes cluster properties, such as enable/disable cluster-autoscaler.
  description: ''
  langs:
  - azurecli
  examples:
  - summary: Enable cluster-autoscaler within node count range [1,5]
    syntax:
      content: az aks update --enable-cluster-autoscaler --min-count 1 --max-count 5 -g MyResourceGroup -n MyManagedCluster
  - summary: Disable cluster-autoscaler for an existing cluster
    syntax:
      content: az aks update --disable-cluster-autoscaler -g MyResourceGroup -n MyManagedCluster
  - summary: Update min-count or max-count for cluster autoscaler.
    syntax:
      content: az aks update --update-cluster-autoscaler --min-count 1 --max-count 10 -g MyResourceGroup -n MyManagedCluster
  - summary: Enable pod security policy.
    syntax:
      content: az aks update --enable-pod-security-policy -g MyResourceGroup -n MyManagedCluster
  - summary: Disable pod security policy.
    syntax:
      content: az aks update --disable-pod-security-policy -g MyResourceGroup -n MyManagedCluster
  - summary: Update a kubernetes cluster with standard SKU load balancer to use two AKS created IPs for the load balancer outbound connection usage.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --load-balancer-managed-outbound-ip-count 2
  - summary: Update a kubernetes cluster with standard SKU load balancer to use the provided public IPs for the load balancer outbound connection usage.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --load-balancer-outbound-ips <ip-resource-id-1,ip-resource-id-2>
  - summary: Update a kubernetes cluster with standard SKU load balancer to use the provided public IP prefixes for the load balancer outbound connection usage.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --load-balancer-outbound-ip-prefixes <ip-prefix-resource-id-1,ip-prefix-resource-id-2>
  - summary: Update a kubernetes cluster with two outbound AKS managed IPs an idle flow timeout of 5 minutes and 8000 allocated ports per machine
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --load-balancer-managed-outbound-ip-count 2 --load-balancer-idle-timeout 5 --load-balancer-outbound-ports 8000
  - summary: Update a kubernetes cluster with authorized apiserver ip ranges.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --api-server-authorized-ip-ranges 193.168.1.0/24,194.168.1.0/24
  - summary: Disable authorized apiserver ip ranges feature for a kubernetes cluster.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --api-server-authorized-ip-ranges ""
  - summary: Restrict apiserver traffic in a kubernetes cluster to agentpool nodes.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --api-server-authorized-ip-ranges 0.0.0.0/32
  - summary: Update a AKS-managed AAD cluster with tenant ID or admin group object IDs.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --aad-admin-group-object-ids <id-1,id-2> --aad-tenant-id <id>
  - summary: Update an existing AKS AAD-Integrated cluster to the new AKS-managed AAD experience.
    syntax:
      content: az aks update -g MyResourceGroup -n MyManagedCluster --enable-aad
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --aad-admin-group-object-ids
    summary: Comma seperated list of aad group object IDs that will be set as cluster admin.
    description: ''
  - name: --aad-tenant-id
    summary: The ID of an Azure Active Directory tenant.
    description: ''
  - name: --aks-custom-headers
    summary: Send custom headers. When specified, format should be Key1=Value1,Key2=Value2.
    description: ''
  - name: --api-server-authorized-ip-ranges
    summary: Comma seperated list of authorized apiserver IP ranges. Set to "" to allow all traffic on a previously restricted cluster. Set to 0.0.0.0/32 to restrict apiserver traffic to node pools.
    description: ''
  - name: --attach-acr
    summary: Grant the 'acrpull' role assignment to the ACR specified by name or resource ID.
    description: ''
  - name: --cluster-autoscaler-profile
    summary: Space-separated list of key=value pairs for configuring cluster autoscaler. Pass an empty string to clear the profile.
    description: ''
  - name: --detach-acr
    summary: Disable the 'acrpull' role assignment to the ACR specified by name or resource ID.
    description: ''
  - name: --disable-cluster-autoscaler -d
    summary: Disable cluster autoscaler.
    description: ''
  - name: --disable-pod-security-policy
    summary: (PREVIEW) Disable pod security policy.
    description: ''
  - name: --enable-aad
    summary: Enable managed AAD feature for cluster.
    description: ''
  - name: --enable-cluster-autoscaler -e
    summary: Enable cluster autoscaler.
    description: ''
  - name: --enable-pod-security-policy
    summary: (PREVIEW) Enable pod security policy.
    description: ''
  - name: --load-balancer-idle-timeout
    summary: Load balancer idle timeout in minutes.
    description: Desired idle timeout for load balancer outbound flows, default is 30 minutes. Please specify a value in the range of [4, 120].
  - name: --load-balancer-managed-outbound-ip-count
    summary: Load balancer managed outbound IP count.
    description: Desired number of managed outbound IPs for load balancer outbound connection. Valid for Standard SKU load balancer cluster only. If updated, it will wipe off the existing setting on Load balancer managed outbound IP count; Load balancer outbound IP resource IDs and Load balancer outbound IP prefix resource IDs.
  - name: --load-balancer-outbound-ip-prefixes
    summary: Load balancer outbound IP prefix resource IDs.
    description: Comma-separated public IP prefix resource IDs for load balancer outbound connection. Valid for Standard SKU load balancer cluster only. If updated, it will wipe off the existing setting on Load balancer managed outbound IP count; Load balancer outbound IP resource IDs and Load balancer outbound IP prefix resource IDs.
  - name: --load-balancer-outbound-ips
    summary: Load balancer outbound IP resource IDs.
    description: Comma-separated public IP resource IDs for load balancer outbound connection. Valid for Standard SKU load balancer cluster only. If updated, it will wipe off the existing setting on Load balancer managed outbound IP count; Load balancer outbound IP resource IDs and Load balancer outbound IP prefix resource IDs.
  - name: --load-balancer-outbound-ports
    summary: Load balancer outbound allocated ports.
    description: Desired static number of outbound ports per VM in the load balancer backend pool. By default, set to 0 which uses the default allocation based on the number of VMs. Please specify a value in the range of [0, 64000] that is a multiple of 8.
  - name: --max-count
    summary: Maximum nodes count used for autoscaler, when "--enable-cluster-autoscaler" specified. Please specify the value in the range of [1, 100].
    description: ''
  - name: --min-count
    summary: Minimun nodes count used for autoscaler, when "--enable-cluster-autoscaler" specified. Please specify the value in the range of [1, 100].
    description: ''
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --update-cluster-autoscaler -u
    summary: Update min-count or max-count for cluster autoscaler.
    description: ''
  - name: --uptime-sla
    summary: Enable a paid managed cluster service with a financially backed SLA.
    description: ''
- uid: ext_aks-preview_az_aks_upgrade
  name: az aks upgrade
  summary: Upgrade a managed Kubernetes cluster to a newer version.
  description: Kubernetes will be unavailable during cluster upgrades.
  langs:
  - azurecli
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --control-plane-only
    summary: Upgrade the cluster control plane only. If not specified, control plane AND all node pools will be upgraded.
    description: ''
  - name: --kubernetes-version -k
    summary: Version of Kubernetes to upgrade the cluster to, such as "1.11.12".
    description: ''
    valueFrom: '`az aks get-upgrades`'
  - name: --no-wait
    summary: Do not wait for the long-running operation to finish.
    description: ''
  - name: --node-image-only
    summary: Only upgrade node image for agent pools.
    description: ''
  - name: --yes -y
    summary: Do not prompt for confirmation.
    description: ''
- uid: ext_aks-preview_az_aks_wait
  name: az aks wait
  summary: Wait for a managed Kubernetes cluster to reach a desired state.
  description: If an operation on a cluster was interrupted or was started with `--no-wait`, use this command to wait for it to complete.
  langs:
  - azurecli
  examples:
  - summary: Wait for a cluster to be upgraded, polling every minute for up to thirty minutes.
    syntax:
      content: az aks wait -g MyResourceGroup -n MyManagedCluster --updated --interval 60 --timeout 1800
  - summary: Wait for a managed Kubernetes cluster to reach a desired state (autogenerated)
    syntax:
      content: az aks wait --created --interval 60 --name MyManagedCluster --resource-group MyResourceGroup --timeout 1800
  parameters:
  - isRequired: true
    name: --name -n
    summary: Name of the managed cluster.
    description: ''
  - isRequired: true
    name: --resource-group -g
    summary: Name of resource group. You can configure the default group using `az configure --defaults group=&lt;name&gt;`.
    description: ''
  - name: --created
    summary: Wait until created with 'provisioningState' at 'Succeeded'.
    description: ''
  - name: --custom
    summary: Wait until the condition satisfies a custom JMESPath query. E.g. provisioningState!='InProgress', instanceView.statuses[?code=='PowerState/running'].
    description: ''
  - name: --deleted
    summary: Wait until deleted.
    description: ''
  - name: --exists
    summary: Wait until the resource exists.
    description: ''
  - name: --interval
    defaultValue: "30"
    summary: Polling interval in seconds.
    description: ''
  - name: --timeout
    defaultValue: "3600"
    summary: Maximum wait in seconds.
    description: ''
  - name: --updated
    summary: Wait until updated with provisioningState at 'Succeeded'.
    description: ''
commands:
- uid: ext_aks-preview_az_aks_browse
  name: az aks browse
  summary: Show the dashboard for a Kubernetes cluster in a web browser.
- uid: ext_aks-preview_az_aks_create
  name: az aks create
  summary: Create a new managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_disable_addons
  name: az aks disable-addons
  summary: Disable Kubernetes addons.
- uid: ext_aks-preview_az_aks_enable_addons
  name: az aks enable-addons
  summary: Enable Kubernetes addons.
- uid: ext_aks-preview_az_aks_get_credentials
  name: az aks get-credentials
  summary: Get access credentials for a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_get_upgrades
  name: az aks get-upgrades
  summary: Get the upgrade versions available for a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_get_versions
  name: az aks get-versions
  summary: Get the versions available for creating a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_kanalyze
  name: az aks kanalyze
  summary: Display diagnostic results for the Kubernetes cluster after kollect is done.
- uid: ext_aks-preview_az_aks_kollect
  name: az aks kollect
  summary: Collecting diagnostic information for the Kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool
  name: az aks nodepool
  summary: Commands to manage node pools in Kubernetes kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool_add
  name: az aks nodepool add
  summary: Add a node pool to the managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool_delete
  name: az aks nodepool delete
  summary: Delete the agent pool in the managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool_list
  name: az aks nodepool list
  summary: List node pools in the managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool_scale
  name: az aks nodepool scale
  summary: Scale the node pool in a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool_show
  name: az aks nodepool show
  summary: Show the details for a node pool in the managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_nodepool_update
  name: az aks nodepool update
  summary: Update a node pool to enable/disable cluster-autoscaler or change min-count or max-count.
- uid: ext_aks-preview_az_aks_nodepool_upgrade
  name: az aks nodepool upgrade
  summary: Upgrade the node pool in a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_rotate_certs
  name: az aks rotate-certs
  summary: Rotate certificates and keys on a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_scale
  name: az aks scale
  summary: Scale the node pool in a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_show
  name: az aks show
  summary: Show the details for a managed Kubernetes cluster.
- uid: ext_aks-preview_az_aks_update
  name: az aks update
  summary: Update a managed Kubernetes cluster properties, such as enable/disable cluster-autoscaler.
- uid: ext_aks-preview_az_aks_upgrade
  name: az aks upgrade
  summary: Upgrade a managed Kubernetes cluster to a newer version.
- uid: ext_aks-preview_az_aks_wait
  name: az aks wait
  summary: Wait for a managed Kubernetes cluster to reach a desired state.
globalParameters:
- name: --debug
  summary: Increase logging verbosity to show all debug logs.
- name: --help -h
  summary: Show this help message and exit.
- name: --only-show-errors
  summary: Only show errors, suppressing warnings.
- name: --output -o
  defaultValue: json
  parameterValueGroup: json, jsonc, table, tsv
  summary: Output format.
- name: --query
  summary: JMESPath query string. See <a href="http://jmespath.org/">http://jmespath.org/</a> for more information and examples.
- name: --verbose
  summary: Increase logging verbosity. Use --debug for full debug logs.
description: Manage Azure Kubernetes Services.
